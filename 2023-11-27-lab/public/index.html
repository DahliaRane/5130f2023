<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="stylesheet" href="index.css" />
    <link rel="manifest" href="./manifest.json" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <title>Sign Up and Sign In</title>
  </head>
  <body>
    <div class="container" id="signupContainer">
      <h1>Sign Up</h1>
      <form id="signupForm">
        <label for="email">Email:</label>
        <input type="email" id="signupEmail" name="email" required />
        <div id="emailConstraints" class="email-constraints"></div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required />
        <div id="passwordConstraints" class="password-constraints"></div>

        <label for="confirmPassword">Confirm Password:</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          required
        />

        <button type="submit">Sign Up</button>
      </form>
      <p id="signinLink">
        Already have an account? <a href="#" id="signinNavLink">Sign in</a>
      </p>
    </div>

    <div class="container" id="signinContainer">
      <h1>Sign In</h1>
      <form id="signinForm">
        <label for="signinEmail">Email:</label>
        <input type="email" id="signinEmail" name="signinEmail" required />

        <label for="signinPassword">Password:</label>
        <input
          type="password"
          id="signinPassword"
          name="signinPassword"
          required
        />

        <button type="submit">Sign In</button>
      </form>
      <p id="signupLink">
        New user? <a href="#" id="signupNavLink">Sign up</a>
      </p>
      <p>
        Or sign in as guest
        <button id="guestLoginButton">Sign in as Guest</button>
      </p>
    </div>

    <script src="index.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("../service-worker.js")
          .then((registration) => {
            console.log(
              "Service Worker registered with scope:",
              registration.scope
            );
          })
          .catch((error) => {
            console.error("Service Worker registration failed:", error);
          });
      }
    </script>

    <script>
      // Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyBdiAFJoJmsDKVVYb4MLkHJpiyF8UzJyXs",
        authDomain: "portfolio-db3ba.firebaseapp.com",
        databaseURL: "https://portfolio-db3ba-default-rtdb.firebaseio.com",
        projectId: "portfolio-db3ba",
        storageBucket: "portfolio-db3ba.appspot.com",
        messagingSenderId: "798674082628",
        appId: "1:798674082628:web:dbabd5f5349cdb349b5511",
        measurementId: "G-RNGLRPDKP9",
      };

      firebase.initializeApp(firebaseConfig);

      // Service Worker Registration
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((registration) => {
            console.log(
              "Service Worker registered with scope:",
              registration.scope
            );
          })
          .catch((error) => {
            console.error("Service Worker registration failed:", error);
          });
      }
    </script>
  </body>
</html>
